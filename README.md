## Overview

Integrate your WHMCS Billing platform with hosted·ai

## Uploading Module Files

Download the `main.zip` file and SCP to your WHMCS server, or clone it directly from github with the following command from within your WHMCS web directory. To grab the latest version:

```plaintext git clone
 git clone https://github.com/hostedai/hostedai-whmcs.git
```

Navigate into the extracted folder:

```plaintext
cd hostedai-whmcs
```

Upload the `hostedai_cron.php` file to the `<whmcs_dir>/crons/` directory on your server.

```plaintext example
cp crons/hostedai_cron.php /<whmcs_path>/crons/
```
  
  
Upload the `hostedai` folder to the `<whmcs_dir>/modules/servers/` directory on your server.

```plaintext example
cp -rv modules/ /<whmcs_path>/
```

```plaintext Expected Output
# cp -rv modules/ ../
'modules/servers/hostedai' -> '../modules/servers/hostedai'
'modules/servers/hostedai/assets' -> '../modules/servers/hostedai/assets'
'modules/servers/hostedai/assets/css' -> '../modules/servers/hostedai/assets/css'
'modules/servers/hostedai/assets/css/style.css' -> '../modules/servers/hostedai/assets/css/style.css'
'modules/servers/hostedai/assets/images' -> '../modules/servers/hostedai/assets/images'
'modules/servers/hostedai/assets/images/cores.svg' -> '../modules/servers/hostedai/assets/images/cores.svg'
'modules/servers/hostedai/assets/images/gpus.svg' -> '../modules/servers/hostedai/assets/images/gpus.svg'
'modules/servers/hostedai/assets/images/memory.svg' -> '../modules/servers/hostedai/assets/images/memory.svg'
'modules/servers/hostedai/assets/images/storage.svg' -> '../modules/servers/hostedai/assets/images/storage.svg'
'modules/servers/hostedai/assets/js' -> '../modules/servers/hostedai/assets/js'
'modules/servers/hostedai/assets/js/custom.js' -> '../modules/servers/hostedai/assets/js/custom.js'
'modules/servers/hostedai/hostedai.php' -> '../modules/servers/hostedai/hostedai.php'
'modules/servers/hostedai/index.php' -> '../modules/servers/hostedai/index.php'
'modules/servers/hostedai/lang' -> '../modules/servers/hostedai/lang'
'modules/servers/hostedai/lang/english.php' -> '../modules/servers/hostedai/lang/english.php'
'modules/servers/hostedai/lang/index.php' -> '../modules/servers/hostedai/lang/index.php'
'modules/servers/hostedai/lib' -> '../modules/servers/hostedai/lib'
'modules/servers/hostedai/lib/Helper.php' -> '../modules/servers/hostedai/lib/Helper.php'
'modules/servers/hostedai/lib/ajax.php' -> '../modules/servers/hostedai/lib/ajax.php'
'modules/servers/hostedai/lib/index.php' -> '../modules/servers/hostedai/lib/index.php'
'modules/servers/hostedai/templates' -> '../modules/servers/hostedai/templates'
'modules/servers/hostedai/templates/admin' -> '../modules/servers/hostedai/templates/admin'
'modules/servers/hostedai/templates/admin/manage.tpl__bkp' -> '../modules/servers/hostedai/templates/admin/manage.tpl__bkp'
'modules/servers/hostedai/templates/error.tpl' -> '../modules/servers/hostedai/templates/error.tpl'
'modules/servers/hostedai/templates/index.php' -> '../modules/servers/hostedai/templates/index.php'
'modules/servers/hostedai/templates/manage.tpl' -> '../modules/servers/hostedai/templates/manage.tpl'

```

## WHMCS Configuration

To validate the module files are in place, navigate within the WHMCS interface as an Administrator to   
`System Settings > Apps & Integrations  
`  
Next search for:  
`hostedai`
![image](https://github.com/user-attachments/assets/2661355e-fd39-4436-a389-80d8b0e48742)

### Add New Server

Add a new server in WHMCS. This sets up the connection between WHMCS and the hosted·ai platform.

**If you haven't already, generate an [API Token](/hostedai-dg3zjz/hostedai-user-guide-td5q2c/user-panel/account-settings-22t5%5Fc/security/manage-api-tokens) as you'll need it for the next steps**

Navigate to _System Settings_ \-> _Servers_ \-> _Add New Server_.

Click _Go to Advanced Mode_.

Fill in the _Name_ and _Hostname_ fields.S
![image](https://github.com/user-attachments/assets/e27e37b3-8177-4240-9101-133b44a049ae)

Skip the **Nameservers** section

Choose the **hosted·ai** module, and add a API Token generated by a full administrator user on the User Panel into the Password field.

Leave "Check to use SSL Mode for Connections" enabled

**Optional, click the Test Connection button to validate connectivity**
![Check connection](https://github.com/user-attachments/assets/0578d075-7b19-455c-b299-88727c19cff6)
<img width="1230" alt="image" src="https://github.com/user-attachments/assets/cfdc79b3-c491-4ba7-ac07-d104067d275d" />

Finally click `Save Changes` to complete

### Create a New Product Group (Optional)

You can now create a new product group in WHMCS for your hosted·ai offerings.

* Navigate to `System Settings` \-> `Products/Services` \-> `Create a New Group`.

On the 'Create Group' screen, fill in the following details:

* **Product Group Name**: Enter a name for your product group.
* **Product Group Headline**: Add a headline for the product group.
* **Product Group Tagline**: Include a tagline for the product group.

Select the order form template that fits your needs from the `Order Form Template` options.

If you want the group to be hidden at this stage whilst you build the products, check the `Hidden` checkbox and disable later.

Once you have entered all the required information, click `Save Changes` to create the new product group, or `Cancel Changes` to discard.

![image](https://github.com/user-attachments/assets/9f3b5ba5-da7b-42e4-880a-1b6554a22ee3)

Now, if the group allows it you can set the group features to showcase features of the group of products to your customers.

![image](https://github.com/user-attachments/assets/d8b1f955-37c8-4f31-9abe-9cf77f107224)



### Create or Select a Product

You must create a new product within WHMCS to sell hosted·ai services.

Navigate to `System Settings > Products/Services`

Click Create a New Product

![image](https://github.com/user-attachments/assets/f6e34382-ff18-429c-8c24-a3f171c67f47)

Choose your `Product Group`, you can also give the product a name and description. This will be shown to users when browsing available products.

A `Welcome Email`can also be set if required

![image](https://github.com/user-attachments/assets/352bb0d0-294d-41f1-9f80-9c7873ae7ac1)

On the `Pricing` tab, choose a Payment Type,

## Recurring Products

Set up recurring products in WHMCS for products such as prepaid plans which offer a fixed set of resources. You can set the appropriate billing cycle and pricing.

WHMCS automatically generates invoices based on the billing cycle you select. This automates the billing process for recurring subscriptions.

## One-Time Products

Set up one-time products in WHMCS for services billed based on actual customer usage.

You will need to set up a custom cron job to generate bills and create invoices, typically on the 1st of the month, using the hostedai\_cron.php. The cron job should calculate billing based on the customer's actual usage data from hosted·ai.

![image](https://github.com/user-attachments/assets/2660bcf7-6b6c-48a2-82aa-cc9767ae40ef)

Now you can select the hosted·ai specific details

## Configure Module Settings

Navigate to the `Module Settings` tab and complete the following configurations.

* In the `Module Name` field, select `hosted·ai`.
* `Server Group`can be left as `None`.
* For `Pricing Policy`, select a suitable policy based on the product you are creating.
* Choose `the appropriate Service Policy` which includes the services which you want users of the product to be able to deploy.
* Set `Image Policy` to `a policy which contains the appropriate OS images.`
* Select a color from the dropdown for `Color`.
* Enter the`No. of Suspension Days`. The number of days an invoice should be unpaid before automatic suspension of the team.
* Under `Resources Policy`, select the policy which contains the appropriate resource access or restrictions based on the new product.
* Choose an `Instance Type Policy` which allows the use of the desired Instance Types.
* For `Role`, select `Team Admin`.
* Provide the `Login URL`. The URL of your hosted·ai user panel, users will be redirected there to login.
* Enter `No. of Termination Days`. The number of days after which an invoice remains unpaid that the a team and all its resources would be deleted.

Choose the suitable option under `Automatic setup options` for when the product should be set up.

![image](https://github.com/user-attachments/assets/ac225daa-d45d-478e-8941-a2803ef6e82a)

### Custom Fields

The `team_id` field is preconfigured for you, no need to edit this.

![image](https://github.com/user-attachments/assets/82b3b2d1-9f28-416e-8464-57ff7f9f40da)

### Other tabs

There are many other options on the other tabs which can affect the product and billing experience for users, review them and configure as appropriate.

Once you've configured all these settings, click the `Save Changes` button to save your product.

Once all the products you wish to offer have been configured and saved you will be able to review them in the Products/Services table.

![image](https://github.com/user-attachments/assets/082f28f3-b7d1-4b3b-9e5f-24a1c93153c0)

### Customer View

Now you can go to the user panel and check your products, if you want to change anything return to the Products/Services area.

![image](https://github.com/user-attachments/assets/b04a4185-a5b1-4ae5-b43a-2db1a35f591f)

### Managing active teams
For users with an active product associated with the model by navigating to the Products/Services tab in the clients section you can get an overview of the resource usage, and perform actions such as managing the account status by suspending, unsuspending and terminating the product.
<img width="1042" alt="image" src="https://github.com/user-attachments/assets/353b403e-b69b-4ea9-b0bc-1fc62fa33e6e" />

### Invoicing

For products configured with the 'one time' type, invoices will be generated and issued based on any pricing set within the assigned pricing policy.
<img width="983" alt="image" src="https://github.com/user-attachments/assets/79fb24e9-3674-466c-9710-87b6b8ef5ee3" />





